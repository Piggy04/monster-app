<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Monster Bevute</title>
  <link rel="icon" href="favicon.ico">
  <link rel="stylesheet" href="style.css">
</head>
<script>
function apriModalImmagine(src) {
  const modal = document.createElement('div');
  modal.innerHTML = `
    <div class="modal-img active" onclick="this.remove()">
      <span class="close-img" onclick="event.stopPropagation(); this.parentElement.remove()">&times;</span>
      <img src="${src}" class="img-modal-content">
    </div>
  `;
  document.body.appendChild(modal.firstElementChild);
}
</script>

<body>
  <button class="sidebar-toggle" id="sidebarToggle" onclick="toggleSidebar()">
    <span></span><span></span><span></span>
  </button>
  
  <div class="sidebar">
    <h2>SW Archive</h2>
    <nav>
      <a href="collezione.html">La Mia Collezione</a>
      <a href="chi-siamo.html">â„¹ï¸ Chi Siamo</a>
      <a href="profilo.html">ğŸ‘¤ Profilo</a>
      <a href="bevute.html" class="active">ğŸº Monster Bevute</a>
      <a href="amici.html">ğŸ‘¥ Amici</a>
      <a href="attivita.html">ğŸ“ AttivitÃ </a>
      <a href="admin.html" id="linkAdmin" style="display:none;">Gestione Contenuti</a>
      <a href="users.html" id="linkUsers" style="display:none;">ğŸ‘¥ Gestione Utenti</a>
      <a href="log-admin.html" id="linkLogAdmin" style="display:none;">ğŸ“Š Log Utenti</a>
    </nav>
  </div>
  <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>

  <div class="main-content">
    <div class="header">
      <h1>ğŸº Monster Bevute</h1>
      <p id="nomeUtente"></p>
    </div>

    <!-- Controlli bevute -->
    <div class="filtri-container">
  <div style="display: flex; gap: 12px; flex-wrap: wrap; align-items: center;">
    <div class="ricerca-box" style="flex: 1; min-width: 200px;">
      <input type="text" id="ricercaBevuta" placeholder="ğŸ” Cerca bevuta..." onkeyup="caricaBevute()">
    </div>
    
    <button class="btn-large" onclick="apriModalNuovaBevuta()" style="background: var(--gradient-primary);">
      â• Aggiungi Monster
    </button>
  </div>
  
  <div class="filtri-box" style="margin-top: 16px;">
    <label>Data:</label>
    <input type="date" id="filtroData" onchange="caricaBevute()">
    <button class="btn-small" onclick="oggi()">Oggi</button>
    <button class="btn-small" onclick="settimanaScorsa()">Settimana</button>
  </div>
</div>

<!-- MODAL AGGIUNGI BEVUTA -->
<div id="modalNuovaBevuta" class="modal" style="display: none;">
  <div class="modal-content">
    <span class="close" onclick="chiudiModalNuovaBevuta()">&times;</span>
    <h2 id="modalTitolo">â• Nuova Bevuta</h2>
    
    <form id="formNuovaBevuta">
      <div class="ricerca-modal">
  <input type="text" id="ricercaVariante" placeholder="ğŸ” Cerca Monster..." oninput="filtraVarianti()">
  <div id="risultatiRicerca" class="risultati-lista"></div>
</div>
<input type="hidden" id="selectVariante" name="varianteId">

      
      <label>Stato:</label>
      <select id="selectStato" style="width: 100%; margin-bottom: 16px;">
        <option value="bevuta">ğŸº Bevuta</option>
        <option value="assaggiata">ğŸ‘… Assaggiata</option>
        <option value="fatta-finta">ğŸ˜œ Fatta finta</option>
      </select>
      
      <label>Note (opzionale):</label>
      <textarea id="inputNote" rows="3" placeholder="Es: 'Super buona!', 'Troppo dolce'..."></textarea>
      
      <button type="submit" class="btn-large">âœ… Registra Bevuta</button>
    </form>
  </div>
</div>



    <div id="bevuteContainer" class="log-container">
      <p>Caricamento...</p>
    </div>
  </div>

  <script src="config.js"></script>
  <script src="theme.js"></script>
  <script src="sidebar.js"></script>
  <script src="utils.js"></script>  <!-- â† AGGIUNGI --> 
  <script src="bevute.js"></script>
</body>
</html>
